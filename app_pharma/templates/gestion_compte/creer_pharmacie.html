{% extends 'navigateur/base.html' %}
{% load static %}

{% block title %}Cr√©er une pharmacie{% endblock %}

{% block pharmacie %}

<div class="container my-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-7">

      <!-- Logo -->
      <div class="text-center mb-4">
        <a href="#">
          <img src="{% static 'assets/images/logo-dark.svg' %}"
               alt="Logo"
               style="max-width:140px;">
        </a>
      </div>

      <!-- Card -->
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">

          <h3 class="mb-2 text-center"><b>Cr√©er votre pharmacie</b></h3>
          <p class="text-muted text-center mb-4">
            Renseignez les informations essentielles de votre √©tablissement
          </p>

          <!-- Messages Django -->
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }}">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}

          <!-- Formulaire -->
          <form method="POST" enctype="multipart/form-data" novalidate>
            {% csrf_token %}

            <!-- ================= INFORMATIONS G√âN√âRALES ================= -->
            <h6 class="text-primary mb-3">Informations g√©n√©rales</h6>

            <div class="mb-3">
              <label class="form-label">Nom commercial *</label>
              <input type="text" name="nom_commercial" class="form-control" required>
            </div>

            <div class="mb-3">
              <label class="form-label">Slogan</label>
              <input type="text" name="slogan" class="form-control">
            </div>

            <div class="mb-3">
              <label class="form-label">Logo</label>
              <input type="file" name="logo" class="form-control">
            </div>

            <!-- ================= LOCALISATION ================= -->
            <hr>
            <h6 class="text-primary mb-3">Localisation</h6>

            <div class="mb-3">
              <label class="form-label">Adresse *</label>
              <textarea name="adresse" class="form-control" rows="2" required></textarea>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label">Ville *</label>
                <input type="text" name="ville" class="form-control" required>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">R√©gion</label>
                <input type="text" name="region" class="form-control">
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Pays</label>
              <input type="text" name="pays" class="form-control" value="Cameroun">
            </div>

            <div class="mb-3">
              <label class="form-label">Code postal</label>
              <input type="text" name="code_postal" class="form-control">
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label">Latitude</label>
                <input type="text" name="latitude" class="form-control">
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">Longitude</label>
                <input type="text" name="longitude" class="form-control">
              </div>
            </div>

            <!-- ================= CONTACT ================= -->
            <hr>
            <h6 class="text-primary mb-3">Contacts</h6>

            <div class="mb-3">
              <label class="form-label">T√©l√©phone principal *</label>
              <input type="text" name="telephone_principal" class="form-control" required>
            </div>

            <div class="mb-3">
              <label class="form-label">T√©l√©phone secondaire</label>
              <input type="text" name="telephone_secondaire" class="form-control">
            </div>

            <div class="mb-3">
              <label class="form-label">Email *</label>
              <input type="email" name="email" class="form-control" required>
            </div>

            <div class="mb-3">
              <label class="form-label">WhatsApp</label>
              <input type="text" name="whatsapp" class="form-control">
            </div>

            <div class="mb-3">
              <label class="form-label">Site web</label>
              <input type="url" name="site_web" class="form-control">
            </div>

            <!-- ================= INFORMATIONS L√âGALES ================= -->
            <hr>
            <h6 class="text-primary mb-3">Informations l√©gales</h6>

            <div class="mb-3">
              <label class="form-label">Num√©ro d‚Äôautorisation *</label>
              <input type="text" name="numero_autorisation" class="form-control" required>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label">NIF</label>
                <input type="text" name="nif" class="form-control">
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">RCCM</label>
                <input type="text" name="rccm" class="form-control">
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label">Date d‚Äôautorisation</label>
                <input type="date" name="date_autorisation" class="form-control">
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label">Date d‚Äôexpiration</label>
                <input type="date" name="date_expiration_autorisation" class="form-control">
              </div>
            </div>

            <!-- ================= PARAM√àTRES ================= -->
            <hr>
            <h6 class="text-primary mb-3">Param√®tres</h6>

            <div class="mb-3">
              <label class="form-label">Devise</label>
              <input type="text" name="devise" class="form-control" value="XAF">
            </div>

            <div class="mb-3">
              <label class="form-label">Symbole de la devise</label>
              <input type="text" name="symbole_devise" class="form-control" value="FCFA">
            </div>

            <div class="mb-3">
              <label class="form-label">Taux TVA</label>
              <input type="number" step="0.01" name="taux_tva" class="form-control" value="19.25">
            </div>

            <div class="mb-3">
              <label class="form-label">Fuseau horaire</label>
              <input type="text" name="fuseau_horaire" class="form-control" value="Africa/Douala">
            </div>

            <div class="mb-3">
              <label class="form-label">Statut</label>
              <select name="statut" class="form-control">
                <option value="active">Active</option>
                <option value="suspendue">Suspendue</option>
                <option value="fermee">Ferm√©e</option>
              </select>
            </div>

            <!-- ================= ACTION ================= -->
            <div class="d-grid mt-4">
              <button type="submit" class="btn btn-success btn-lg">
                üè• Cr√©er la pharmacie
              </button>
            </div>

            <p class="text-muted text-center small mt-3">
              Vous pourrez compl√©ter les param√®tres avanc√©s plus tard.
            </p>

          </form>

        </div>
      </div>

      <!-- Footer -->
      <div class="text-center mt-4">
        <p class="m-0">¬© {{ now|date:"Y" }} ‚Äì Tous droits r√©serv√©s</p>
      </div>

    </div>
  </div>
</div>

{% endblock %}